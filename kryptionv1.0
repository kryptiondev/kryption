local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Kryption Hub Beta v1.0",
   Icon = "sword",
   LoadingTitle = "Kryption Hub",
   LoadingSubtitle = "Join the discord for updates and news!",
   ShowText = "Rayfield",
   Theme = "Default",

   ToggleUIKeybind = "K",

   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false,

   ConfigurationSaving = {
      Enabled = true,
      FolderName = nil,
      FileName = "kryptionkryption2025"
   },

   Discord = {
      Enabled = true,
      Invite = "aNBPYMQf4X",
      RememberJoins = true
   },

   KeySystem = true,
   KeySettings = {
      Title = "Key System",
      Subtitle = "Key System",
      Note = "Key is in Discord! https://discord.gg/aNBPYMQf4X",
      FileName = "Key",
      SaveKey = true,
      GrabKeyFromSite = false,
      Key = {"kryptionontop"}
   }
})

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local Games = {
    [118614517739521] = function()
        local BlindShot = Window:CreateTab("Main", "home")

        BlindShot:CreateButton({
            Name = "Show Gun",
            Callback = function()

                local function getSkinModel(character)
                    for _, obj in ipairs(character:GetChildren()) do
                        if obj:IsA("Model") and obj.Name:match("^Skin_%d+$") then
                            return obj
                        end
                    end
                    return nil
                end

                local function applySkinESP(player)
                    if player == LocalPlayer then return end

                    local function onCharacter(char)
                        task.wait(0.01)

                        local skin = getSkinModel(char)
                        if not skin then return end
                        if skin:FindFirstChild("SkinESP") then return end

                        local box = Instance.new("SelectionBox")
                        box.Name = "SkinESP"
                        box.Adornee = skin
                        box.Color3 = Color3.fromRGB(255, 0, 0)
                        box.LineThickness = 0.05
                        box.SurfaceTransparency = 0.8
                        box.Visible = true
                        box.Parent = skin
                    end

                    if player.Character then
                        onCharacter(player.Character)
                    end

                    player.CharacterAdded:Connect(onCharacter)
                end

                for _, plr in ipairs(Players:GetPlayers()) do
                    applySkinESP(plr)
                end

                Players.PlayerAdded:Connect(applySkinESP)

                print("Skin ESP Enabled")
            end
        })

        local ESPButton = BlindShot:CreateButton({
            Name = "ESP",
            Callback = function()
                local function applyHitboxHighlight(player)
                    if player == LocalPlayer then return end

                    local function onCharacter(char)
                        task.wait(0.3)

                        local hitbox = char:FindFirstChild("hitbox", true)
                        if not hitbox then return end

                        hitbox.Transparency = 0.3
                        
                    end

                    if player.Character then
                        onCharacter(player.Character)
                    end

                    player.CharacterAdded:Connect(onCharacter)
                end

                for _, plr in ipairs(Players:GetPlayers()) do
                    applyHitboxHighlight(plr)
                end

                Players.PlayerAdded:Connect(applyHitboxHighlight)
            end,
        })
    end,

    [987654321] = function()
        local Tab = Window:CreateTab("Auto Farm", "zap")
        Tab:CreateButton({
            Name = "Start",
            Callback = function()
                print("Auto Farm Loaded")
            end
        })
    end
}

if Games[game.PlaceId] then
    Games[game.PlaceId]()
else
    Window:CreateTab("Unsupported", "x-circle")
end
